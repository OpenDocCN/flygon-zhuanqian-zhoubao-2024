<h1>手把手教你用Cursor开发闲鱼卖家宝贝信息抓取软件：从环境搭建到功能实现</h1>
<blockquote>来源：<a href="https://zwia799oeo3.feishu.cn/docx/EPYXd5UPUocTzCxnMLLcchkMnzb">https://zwia799oeo3.feishu.cn/docx/EPYXd5UPUocTzCxnMLLcchkMnzb</a></blockquote>
<h1>一、项目介绍</h1>
<p>做闲鱼虚拟大概有三个月了。 目前运营3个号每天的净利润在200-500元左右（如果不封号估计更高）。目前能有这个效果主要靠的就是通过数据分析找到爆品，然后将爆品上到自己的号上。</p>

<p>我是这样做数据分析的：</p>

<p>1、每天搜集卖的不错账号的数据， 找到每天出单&gt;50单以上好的账号</p>
<p>具体做法：</p>
<p><img src="img/2ee370aad7940c01b20cb2d0d08067ec.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/EdYQbTf9RoerRnxl2WRcwESHnIe/"/></p>

<p>闲鱼手机端宝贝页面往下拉会有总卖出的宝贝数</p>

<p>如上图，我们可以通过记录每天手机端卖家卖出数，算出卖家单天卖了多少，从而找到销量不错的卖家。</p>
<p><img src="img/87792bb2c93df407540f5314450d1182.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/H0ZXbobUOomrGKxJoKMcXlWpnNe/"/></p>
<p>可以用飞书表格记录两天总卖出宝贝数量 而找出卖的不错的账号。</p>

<p>2、将满足要求的账号的品在进行数据分析（也就是找出想要数递增快的），然后上到自己的号上。</p>
<p><img src="img/fa87e1083db6111311fe10f712c23339.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Uv75bDNNMotEmyxxi4qcAYRRnue/"/></p>
<p>3.说下想要数递增快的如何找。和找店铺一样，都是记录每天宝贝想要数。然后做差值然后倒序排序。</p>

<p>这周二闲鱼网页版更新了，终于能够查看卖家的所有宝贝了。所以现在我们也可以通过闲鱼网页端采集到卖家所有的宝贝数据了。</p>

<p>这篇文章教你用cursor来开发个简单的采集程序。</p>
<p>我们主要采集的就是宝贝的想要数、宝贝价格、宝贝链接这几个参数。想要数是最重要的一个数据。</p>

<p>我们做闲鱼虚拟每天主要的时间都是花在选品上。有了这个程序，我们就能够轻松地获取到大量的品的数据，从而筛选出爆品。能够大幅度的减少我们的时间花费以及能够提升店铺的效果。</p>

<p><img src="img/b5ace899a6da6ebe8a9c225e5b09c791.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/EnNzbr9RWoLgxKxOB7AcLoGvngd/"/></p>


<p><img src="img/73685bc232b1eff12675f88c8bf33b12.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/INeDb2CnLoTV28xYCEIc3iSNnbC/"/></p>
<p><img src="img/39d160668f9ab257eeae04a93a0de18a.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Sg1wbmdpeo3huZxIuNhcs40gnsd/"/></p>
<p><img src="img/5970963d5acf2967ae375c65ee34eb47.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/OuiXbR1gbocgxixjTYScGhpYnhc/"/></p>

<p>另外说下为什么展示甜甜的鱼这个账号。因为这个账号有明显违规的宝贝，这个号也活不长了。我也因为这个宝贝被封过号。同时也是给大家个提醒。</p>
<p>图二图三算是1个宝贝投诉两次， 然后被（图三）考研数学李林投诉了。这个号就封了。 当然这个号卖了7000单。当然也是很可惜啊，本身这个号一天还有50-100的利润。算下来这一年也损失不少。</p>
<p>说下为什么被封的原因：</p>
<p>这三条违规信息是因为我卖的是人家书的pdf版。本身都是有版权的。 所以有三天这种售假信息被封了。</p>
<p>目前比较容易违规的有：网课类（例如粉笔网课  fb缩写也算）、动画视频类（地理八分钟  wow英语动画）、破解软件类、书的扫描版（也就是pdf）。</p>
<p>最近也在写一篇关于违规分析的文章。到时候写完会在这里连接上。</p>

<h1>二、自我介绍</h1>
<p>11年接触网赚，给淘宝客网站改代码，后面做过淘宝客群，用易语言写过qq加好友、一些网站app的私信程序。16年开始做自媒体，到2020年算是赚到人生第一桶金。后疫情期间搞视频号直播。最好的时候7天10万GMV.卖的年货。要不是过年，还能有更好的效果。</p>
<p>最近主要在全职做闲鱼虚拟，目前一天200以上净收益。</p>
<p>其他的可以看下我之前的文章：</p>




<h1>三、开发</h1>
<p>看不了就百度网盘下载下视频观看</p>

<p>链接: https://pan.baidu.com/s/1DLlMeiHz4bUySThBG92n6A?pwd=t5du</p>
<p>提取码: t5du 复制这段内容后打开百度网盘手机App，操作更方便哦</p>

<h3>1、下载注册cursor</h3>
<p>https://www.cursor.com/</p>
<h3>2.html css基础</h3>
<p>https://www.w3cschool.cn/codecamp/newList/basehtml</p>
<p>如果真相玩转网页采集 网页开发基础还是需要学会的。 上面是基础教程。如果有时间的把这个教程学一遍。</p>

<h3>3、提示词：</h3>

<pre>   帮我用python写一个采集闲鱼网页端卖家主页所有宝贝信息的小程序。  就是这个 https://www.goofish.com/personal?spm=a21ybx.item.itemHeader.1.2ed93da6H8Zhn4&amp;userId=2200778827905

   通过 nick--sP8UifWP 获取卖家昵称
   通过 class  num--hPfR3ECA numSelected--lOjNwUrG  确定宝贝一共多少
   .cardWarp--dZodM57A 是单个宝贝的。一直往下滑动。每次滑动。检测 有多少个宝贝，如果采集够了总共宝贝数则停止
   一次性采集所有.cardWarp--dZodM57A的数据而不是一次只采集5个
   需要商品标题 价格 想要数 商品链接  卖家名字  卖家链接  这几项数据。
   数据不要有任何符号。只保留数字。
   程序执行完后浏览器不要关闭。即使按ctrl+c强制结束程序也不要关闭

   我的windows电脑上除了安装了Cursor代码编辑器外，也没有任何相关环境，请详细的一步一步的告诉我应该怎么做，我做完一步告诉你我做完了，你再告诉我下一步应该干什么。</pre>
<p>解释：</p>
<p>nick--sP8UifWP  这种是 CSS 的class选择器。我们是通过给cursor。让他知道我们要采集哪里的数据。</p>
<p><img src="img/b13b2d4e13c5bcea0a3b3f81cb5a5568.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ANHzbiQZ9oOOaoxw0xvc0NiSnPd/"/></p>
<p>这里就解释这些，更详细的看我上面的视频。</p>

<p>接下来看具体的步骤：</p>
<p>首先打开cursor。找个目录创建个文件夹。  用cursor打开目录。</p>
<p><img src="img/2cecbbb111b779bdfd872cb2606c01b3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/HcbobYm6rowzJ8x9OwBc3MS1npc/"/></p>
<p><img src="img/b2a4ea5e801ad4e0fb03a4f0828ba440.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/UrRhbDXl1oB40OxswA9cG5yNn0e/"/></p>
<p>然后选择。</p>


<p><img src="img/dcebd795769e45b0c50c56c420a9a242.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/IuWYbrOaGoAVpNxrp0JcMYB1nhd/"/></p>
<p>如图，先打开侧边栏，然后选择composer.粘贴我给的提示词。回车。</p>
<h3>4、安装程序所需的环境</h3>
<h5>Python</h5>

<p>下载地址就用 cursor给的就行。 我下载的是3.11版本。不要下载3.13的 ，一般最新的很多模块不支持，还得卸掉重装老版本的。</p>
<p><img src="img/ea4d34f6a20b5c034baf31d19c87ed44.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/EegLbEVljobZW4x0srrcryYknce/"/></p>
<p>安装时 右键 以管理员身份运行</p>
<p><img src="img/921352f476414c33905fc5934ddd6974.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/FJugbP8GCo6xJ7xrYpEc3Iiznds/"/></p>
<p>箭头的"Add Python to PATH"选项  一定要选上。</p>
<p>点击"Install Now"</p>
<p>等待安装完成</p>
<p>安装完成后,按Win+R打开运行,输入cmd回车打开命令提示符</p>

<p>在命令提示符中输入:</p>
<pre>python --version</pre>
<p><img src="img/4035b4c6974d8d5e36b0443da77e79fc.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/JuHmbEaN6oqlR4xwUYWctUStndb/"/></p>
<p>这样就是对了，如果没有。可以卸载后。</p>
<p><img src="img/e885ef319be6e4d3ad5c0fa7789d83bb.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/HGuQbyjuVoZ1l3xyAa2c8qqVnxe/"/></p>
<p>选择这个把能选的选项都选上。我有一台电脑就是这样解决的。</p>
<p><img src="img/c053f23d00e9cf55f884740a501291b2.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/FpGtb6pPxoknYSxvuh5ceYcOnId/"/></p>
<p>然后将你的版本发给cursor。这样他会根据你的版本选择方案和写代码。也不容易出现版本不一致的情况。</p>

<h5>模块</h5>
<pre>pip install selenium</pre>
<pre>pip install webdriver-manager</pre>
<p>依次安装这两个模块，继续在命令行安装或者 cursor的终端里都行。</p>

<p><img src="img/a95e2b9731fb7b28e2519ceba147e3a3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/LTM6b2CegofJ0jxJgzicOltMn7d/"/></p>
<h3>5.开始正式写代码</h3>
<p>我把Successfully installed  提交给他。 然后他就开始写代码了</p>
<p><img src="img/57e6ee0b438db037ea3b89497050ad16.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ZyhEbmMxloFPp3xGfaacePz0nnd/"/></p>

<p><img src="img/cfba5944c925d4e7dc04bf64cd2c3153.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/WaQ6bnaSfobLjExFdT8cvz8ynEg/"/></p>
<p>代码写完后点 accept all</p>

<p>然后运行（这个根据cursor给你的文件名，我的是xianyuspider.py，你的不一定是这个，这个要注意）</p>
<pre>python xianyuspider.py</pre>
<p><img src="img/4dd421081aed038362fc37212c65c8c0.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/CoIFbFCjmoYntLx5khBcWsannyc/"/></p>
<p>运行步骤</p>
<p><img src="img/9c27471497ed8187573002c844a3c601.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/HJ29bBNZooejZzxlTNfcx2o0nhc/"/></p>

<p>运行后肯定是有错误的。将错误复制然后提交给cursor</p>
<p><img src="img/3a04cbc1ce7805b57018e84b122ae2e3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/KeYJbAM6joJQXjx4DMLcPHMvn1f/"/></p>
<p>然后他会修改代码。并且给你说改进了哪些。你继续点 accept all。然后重新运行程序。</p>
<p><img src="img/4fe5f354921f47bc9d974525083dae18.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Gc3TbylZToWGE8xxeFFcSfvHnBd/"/></p>
<p>然后就是 对于错误就行提出让他修改</p>
<pre>价格的小数点要保留， 想要数显示错误。另外采集完导出表格。表格命名为卖家名字+时间戳</pre>
<p><img src="img/46a1ed0b03dedc2483a18736ccad9d0d.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/IRnDbcc0ao83fDxJ74kc9NJRnSn/"/></p>

<p>然后再用命令行或者 终端运行安装库的代码</p>
<pre>pip install pandas</pre>
<p><img src="img/821b24fe2e7b54ea56e9ea3f262c2668.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/AmdTb8yxhossJdx7DTAcw4VCn8f/"/></p>
<p>然后继续提交错误。让他修改。错误看你的错误提交。这里就不给提示词了。因为不一定一样。</p>
<pre>另外  价格和 想要数还是不对；   我们通过 price-wrap--YzmU5cUl 获取价格  通过text--MaM9Cmdn获取想要数</pre>
<p><img src="img/9b761bfc8e7b6bfc180f2ecd00e13128.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ND1IbSqVrou41cxtYYLcWsTUnob/"/></p>
<pre>pip install openpyxl</pre>
<p><img src="img/91fda187e4094fffd94cddf5f7da24f0.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/RtCMbccOAoYfmLx6ZQfcPEbPnub/"/></p>
<p>这个提交后还是错的</p>

<p><img src="img/74ec4b1958c344ffa6dcdc7323b76fb3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/TV93bf9PgoQROixsun2cdm6EnPb/"/></p>
<p>后面发现 他并没有识别出  整数和小数部分的选择。我给了具体 整数部分和小数部分的 具体class 就解决了这个问题。</p>
<p><img src="img/73ac5955658b9b4635930b2965234fc5.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/GcFRbHCNqo4rirxuFuKcDL0fnkd/"/></p>
<p>选择一个带小数的，可以清晰看到  两个部分是不同的class选择器。</p>
<p><img src="img/716ef2aac4657c012b7c7ef721a9a9ab.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/MMgsb4rpho41Iqx28v9cEx9fnWh/"/></p>
<p>然后在你代码的文件夹就能看到采集的数据了。</p>
<p><img src="img/f9f73ccba9bc1f277537fae5ec425e9a.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/RzLobSB7voyGdfxw486cUhMunLb/"/></p>

<h1>四、注意事项</h1>

<p>1.cursor 是ai编程，操作这个项目遇到的问题跟我的不一样是正常现象 具体的报什么错误 你把错误给到cursor。另外就是如果需求不满意，可以直接给它修改建议，可以cursor讨论让它给出意见。根据给出的建议修改。</p>

<p>2.软件只是能够让效果出的更快，对于闲鱼虚拟项目初学者建议全部用手工做出效果然后再用软件去扩展。不要上来就依靠软件，这样很容易做不出效果。因为只有手工操作才能够找到对项目的感觉。单纯靠软件你会失去很多项目细节的思考。</p>

<p>3.跟cursor沟通也会遇到各种问题，第一个就是 没有反馈或者一直在转圈，这时候重新来就行了。</p>
<p>第二个就是有时候不会自动修改代码。 比如只给了代码，没有accept all。这种情况，加一句  给我自动更新代码， 就行了。 还不行就点击代码的右上方 手工 apply。</p>

<h1>五、还可以扩展哪些功能</h1>

<p>1、用户操作界面</p>
<p>目前是通过命令行运行的。 如果加个用户界面 双击程序打开，然后鼠标操作更好。如下图：</p>
<p><img src="img/feba79343114d6ae86b926b0ede20e8f.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/JXC3boiFMoze3WxCwhic5MZFn7c/"/></p>

<p>2.批量导入闲鱼卖家主页链接然后批量采集。</p>
<p>就是导入一个存有多个卖家主页链接的txt文件或者excel文件， 然后一次性将所有账号的数据采集完。</p>

<p>3、除了首次采集以外，可以一天后导入已采集的表格  在采集一次想要数。算出想要数差值。找出最畅销的宝贝。</p>
<p>这个原理看文章开头</p>

<p>4、增加数据库存储数据，更方便的存储和调取数据分析数据。</p>
<p>可以将采集的数据保存到sqllite数据库，或者服务器的数据库中。</p>

<p>当然这些就通过和cursor沟通。然后去完善程序就行了。</p>




