# Cursor 提示词导出插件：解决开发项目交互记录不便的问题

> 原文：[`www.yuque.com/for_lazy/zhoubao/any3gkwgtgmlw4wi`](https://www.yuque.com/for_lazy/zhoubao/any3gkwgtgmlw4wi)

## (11 赞)Cursor 提示词导出插件：解决开发项目交互记录不便的问题

作者： Rand0mWalk

日期：2024-12-16

### 一、插件简介

生财里有很多大佬用 Cursor 开发了很多好项目并分享开发过程，写分享文章时难免需要用到开发过程中的交互提示词，但 Cursor 并不能很方便的导出一个项目的交互记录，甚至连复制都很麻烦。

如果可以一键导出某个开发项目的提示词列表会方便很多，而且通过学习别人在开发项目过程中的提示词，对自己也会很有帮助，所以我用 Cursor 写了一个 Cursor 提示词导出插件，插件直接可以安装在 Cursor 里使用。

### 二、开发思路

首先是通过网络搜索看是否已经有现成的工具可用，通过简单搜索找到了一个开源工具：[GitHub - somogyijanos/cursor-chat-
export: Export your chats from Cursor to
Markdown.](https://github.com/somogyijanos/cursor-chat-export)

这个工具是一个 python 脚本，用起来肯定不如集成在 Cursor 里的插件使用方便，而且由于 Cursor 版本更新比较密集，这个脚本已经是 4 个月前写的了，目前已经不能用了。但不妨碍用来学习，当然对于不懂代码的人来说，直接交给 Cursor 去学习这个代码就好了，Cursor 学完之后为咱们自己开发插件提供帮助。

### 三、用开发完的插件导出的开发过程提示词

**使用 Cursor 的感受：在开发小型项目时，提示词“随便造”，AI 的理解能力很强不用在意，基本都能搞定！复杂项目可能会遇到一些问题，得花时间慢慢调整。**

提示词只有我的输入，并没有 AI 的回复，回复的意义并不大，由于 AI 的特性，每次回答都不会完全相同。

我的提示词会稍显乱一些，拿来参考一下大概思路就可以了，整理出思路再复现出功能一致的插件并不会很难。

我的大致思路是：

先让 Cursor 学习 GitHub - somogyijanos/cursor-chat-export: Export your chats from
Cursor to Markdown. export)这个代码，然后参考这个的实现思路，改写成插件。因为这个工具在最新版 Cursor 下失效，所以需要自己再去分析一下具体的提示词在哪个位置，这个分析我没有让 Cursor 帮我做，我自己很快就找到了最新版 Cursor 提示词的位置，所以直接告诉 Cursor 具体怎么在插件中实现了。这部分对于完全没有开发经验的人来说可能有些困难，感兴趣的可以把这部分难题也扔给 Cursor，让它给出出主意，然后按照它给的方法看是否可以解决，小提示：直接把数据库文件扔给 Cursor 让它分析提示词在哪里。

以下是我用开发好的插件导出的这次插件开发过程 Prompts，供参考～

# Cursor Prompts - Cursor_Prompt_Export

导出时间: 2024/12/16 15:15:35

## Prompt 1

```
我想写一个 Cursor 编辑器的 Prompt 导出插件，也就是 vscode 的插件，专注于导出 cursor 编辑器里用户和 ai 的交互内容，包括 chat 和 composer 里的内容

```

## Prompt 2

```
@Codebase 参考项目里是一个开源工具，review 代码并给出具体实现过程

```

## Prompt 3

```
这是工具代码

```

## Prompt 4

```
@cursor-chat-export-main review 整个项目，给出实现逻辑

```

## Prompt 5

```
能否用 vscode 插件来实现这个功能

```

## Prompt 6

```
分析一下这个 json 文件

```

## Prompt 7

```
将每一条 text 提取出来

```

## Prompt 8

```
从 1.json 里按顺序提取出所有 text 并生成新的文件 prompt.md

```

## Prompt 9

```
继续提取

```

## Prompt 10

```
继续

```

## Prompt 11

```
可以一次全部提取出剩余的吗

```

## Prompt 12

```
写一个 py 脚本，从 1.json 里提取出全部 text 值并按顺序写入到新的 md 文件里

```

## Prompt 13

```
写一个 vscode 插件，实现如下功能：1、 @config.yml
根据这个文件里的不同平台的目录位置，遍历这个目录下边的所有目录；2、遍历出来的目录里如果同时包含有 workspace.json 和 state.vscdb 两个文件的话，进行下一步；3、state.vscdb 是个 sqlite 文件，里边有一个表是“ItemTable”，这个表里有两列，key 和 value，如果 key 值有“aiService.prompts”，进行下一步；4、解析 workspace.json，示例文件
@workspace.json
，提取出“Cursor_Prompt_Export”，也就是目录的最后一段，插件展示出所有这个提取出的字段让用户选择是否导出，如果用户选择导出，将对应目录下的 state.vscdb 文件里 ItemTable 表里的 aiService.promptskey 值对应的 value 导出成 json 文件

```

## Prompt 14

```
使用 npmrc 设置源为清华源

```

## Prompt 15

```
如何测试一下插件效果

```

## Prompt 16

```
> cursor-prompt-export@0.0.1 compile

> tsc -p ./

src/extension.ts:61:53 - error TS18046: 'error' is of type 'unknown'.

61 vscode.window.showErrorMessage(`发生错误: ${error.message}`);

~~~~~

src/extension.ts:97:44 - error TS18046: 'error' is of type 'unknown'.

97 console.error(`处理工作区时出错: ${error.message}`);

~~~~~

src/extension.ts:141:50 - error TS18046: 'row' is of type 'unknown'.

141 fs.writeFileSync(exportPath, row.value);

~~~

Found 3 errors in the same file, starting at: src/extension.ts:61

```

## Prompt 17

```
接下来怎么调试

```

## Prompt 18

```
我想直接安装这个插件来看看效果

```

## Prompt 19

```
WARNING A 'repository' field is missing from the 'package.json' manifest file.

Use --allow-missing-repository to bypass.

Do you want to continue? [y/N] y

ERROR Extension entrypoint(s) missing. Make sure these files exist and aren't
ignored by '.vscodeignore':

extension/out/extension.js

```

## Prompt 20

```
为什么 src 下有两个文件，一个 js 一个 ts

```

## Prompt 21

```
让用户选择导出目录

```

## Prompt 22

```
将导出的文件改成 md 文件，解析 json 里的 text，按照顺序放到 md 文件里，每一条 text 作为 md 里的一个代码块

```

## Prompt 23

```
添加容错机制：1、如果 @config.yml 里指示的目录为空，让用户选择 Cursor workspaceStorage 目录；

```

## Prompt 24

```
给插件添加一下功能描述

```

## Prompt 25

```
去掉反馈与建议部分

```

## Prompt 26

```
插件的描述里还有反馈与建议吗

```

## Prompt 27

```
现在是同时导出了 json 和 md 文件吗

```

## Prompt 28

```
只导出 md 文件就可以，同时修改 readme

```

## Prompt 29

```
用户选择需要导出哪个时，不用展示原始的文件目录

```

## Prompt 30

```
1、还能看到具体的路径；2、工作区名称显示支持中文

```

## Prompt 31

```
更新 publisher 为 Rand0mWalk，去掉 repository 中的 url

```

### 四、插件成品、源码

这里没办法上传文件，所以放到网盘了：[`pan.quark.cn/s/e69e4dad4408`](https://pan.quark.cn/s/e69e4dad4408)

如果文章里放外链违规，麻烦管理直接把链接删除就行～保证网盘里干净、无广，可放心食用！

### 五、插件安装

从网盘里拿到**cursor-prompt-export-0.0.1.vsix_** 这个文件后，问一下 Cursor 吧哈哈，把 AI 工具融入到自己的工作生活！

插件的具体使用方法，在安装好插件之后，可以在插件页看到详细的使用说明，网盘的源码文件里也包含详细的 README 文件。

* * *

评论区：

暂无评论