<h1>Cursor，我的盐不见了</h1>
<blockquote>来源：<a href="https://lkqtstaxxx.feishu.cn/docx/SmyddCfBMoKSzrxRY8IcbddRncg">https://lkqtstaxxx.feishu.cn/docx/SmyddCfBMoKSzrxRY8IcbddRncg</a></blockquote>
<p>大家好，我是李灿，一个来自湖南的前端工程师。有了AI后，GPT就是我的编程老师，前端很多知识都是边做边跟GPT学的，现在有了Cursor，发现效率可以得到进一步提升。这次航海和Cursor玩得很开心，今天就和大家分享一下与Cursor协作做饭（编程）中，让它找盐（解决bug）的故事。</p>
<p>故事梗概：找盐没找到、找酱油没找到、于是把菜做成了甜的而我不爱吃，不死心的我终于找到盐和酱油，重新做饭吃上。以及整个做饭过程带给我的血泪教训[苦涩]！</p>
<p>省流版：看最后的做饭总结。</p>
<h2>一、Cursor，我的盐不见了</h2>
<p>编程如做饭，没盐怎么行！</p>
<p>航海任务中，有一个任务是用 Cursor 批量剪YouTube shorts视频，输入提示词，告诉它我要做的菜是批量剪视频，要什么口味也都说得清清楚楚，但运行文件立马报错：</p>
<p><img src="img/400da55c6fa174c6cf547528c6043768.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/FTKLbSMYtoiIF8xZw29ciQ8XnEb/"/></p>
<pre>ModuleNotFoundError: No module named 'moviepy.editor'</pre>
<p>字面理解一下，就是“moviepy.editor"不存在，就好像盐找不到了，我的饭做不下去了。</p>

<p>我：Cursor，我的盐找不到(“moviepy.editor"找不到)</p>
<p>Cursor：</p>
<p>你检查检查：</p>
<p>你确实买调料了吗（确保安装了moviepy）、</p>
<p>食谱是最新的吗（Python版本正确吗）、</p>
<p>锅好使吗（检查IDE、重启IDE）</p>

<p>我：我的moviepy是2.1.1，但还是没找着盐</p>
<p>Cursor：</p>
<p>你调料放对地方了吗（检查安装路径）、</p>
<p>重新买一份调料呗（重装moviepy）、</p>
<p>食谱新吗（检查Python版本）、</p>
<p>换个干净的厨房呢（使用虚拟环境）、</p>
<p>你的食材都买好了吗（相关依赖是否安装好）、</p>
<p>炒个小分量的菜试试（运行简单测试）</p>

<p>我：大哥，我都试了，还是找不到盐</p>
<p>Cursor：哦，你再把上面两次提到的方法重复一遍</p>
<p>我：</p>
<p><img src="img/30bd1d31cce4dfc4c09b46928b13ab38.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/MA0UbmoMtoeNHoxBxa9c0PJenR2/"/></p>
<p>附提问截图：</p>
<p>第一次：</p>
<p><img src="img/0ca30168825086bef913c1536713039c.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/AoaLbi10koiRWexEvKRc9eRxnbf/"/></p>
<p>第二次：</p>
<p><img src="img/1b12a37802ac08266a1cf73a67ba7394.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/EiNtb3sUVo3m36xlkNIcG1gFnjb/"/></p>
<p>参考答案做完出现了新错误，第三次问：</p>
<p><img src="img/05bb928c9af603aa9df6156db0f3b5bd.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/NtT6bNJJVoOx7kxRboAcG5bvnFb/"/></p>
<p>可以看出第三次的回答跟前两次很雷同，来回让我做同样的事，但没能实质解决报错。</p>
<h2>二、谷哥，我的盐不见了</h2>
<p>于是我又去找我的好朋友：谷歌。他很慷慨，一下子给了好多页结果，点开第一条：</p>
<p><img src="img/ad7b11e97ea7d58fed6a0786caf102c5.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/NjvCbkqqfoKMMZxJRj8c7qaUnig/"/></p>

<p>在答案里直接找使用盐的方式（其他引入方式），看到下面这条还比较新的答案，参考它对代码进行了修改</p>
<p><img src="img/e726d217aa16ae17bd8bf50f6f575451.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/CKDxbDwu7opmRHxHEWCcfa9inVc/"/></p>
<p>妈妈，我的盐终于不报错了！</p>
<p>但是，它开始报新的错误：</p>
<h2>三、Cursor，我的酱油不见了</h2>
<p><img src="img/97d0ccf65d8956ec8ab4ce38bb5daaf7.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/KfL8bsYw2oRcllxyOirchZqvnld/"/></p>
<pre>AttributeError: 'AudioFileClip' object has no attribute 'subclip'</pre>
<p>如图，又开始找不到酱油（subclip）了！</p>

<p>我：大哥，我的酱油不见了（找不到subclip）</p>
<p>Cursor：哦，那是因为它改名叫生抽了（叫我把subclip改成set_duration）</p>

<p>我：大哥，叫生抽也不好使啊，现在报“生抽也不见了”</p>
<p>Cursor：哦，那是因为它改名叫酱油了（叫我把set_duration改成subclip）</p>

<p>我：拜托，酱油和生抽都不见了</p>
<p>Cursor：哦，那你继续用酱油吧（还叫我用subclip）</p>
<p>我：</p>
<p><img src="img/dd193f9dd8514eec32059c68a2a39270.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/JPGMbI5DTowavZxfBXNcwotrn2c/"/></p>

<p>附提问截图：</p>
<p>第一次问，它叫我把subclip改成set_duration:</p>
<p><img src="img/9ad3b9121c30a650fc2e88ba4671493c.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ObLxb4rAuocRByx1uLscdPxznrg/"/></p>
<p>改完继续报错，第二次问，又叫我改回subclip：</p>
<p><img src="img/ab0377c3b755994340b7847245654cd9.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Gbpnbzc5noCwlJxKhzhcX6CnnEe/"/></p>
<p>再次问它，跟它说了没有subclip也没有set_duraiton，它还叫我用subclip：</p>
<p><img src="img/ccfda47a0d2522724ccb4407d39943b4.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/TjXbbgEKVoF8htxVFt8cibKRnOg/"/></p>

<h2>四、谷哥，我的酱油不见了</h2>
<p>好吧，cursor大哥它失忆了，我再次找到谷哥哥:</p>
<p><img src="img/85533ae1a6b2e6a419ebd63ccdcd9bdc.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Efbtb8eUjoVHhLxIPwQccbYxnFe/"/></p>
<p>当时并没有完全能匹配到酱油（subclip）的结果（现在有一条），但是这一页有调料商（moviepy）的说明书（官方文档）：</p>
<p><img src="img/3833012072ee6c4577409c6112fcb655.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/BIHXbjgmCojL7BxWp5JcduqPn7g/"/></p>
<p>我想官方文档应该有关于酱油（subclip）相关的使用方法吧，找到搜索按钮就输入酱油（subclip），然后结果没一个精确匹配上（AudioFleClip.subclip)：</p>
<p><img src="img/88a743b3e19929e236787b6c30cca3e8.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/NcmlbIEUmoPfevxnBMtcMNzJnGg/"/></p>
<h2>五、Cursor，你不用moviepy家的盐能做菜啵？</h2>
<p>此时，我已放弃moviepy这套调料了，让cursor用moviepy之外的方式来做饭：</p>
<p><img src="img/426cee2509721b4d0eec1ba04d5258f3.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/SYpTbSN6PoD2uGxulYCcnvg4nPd/"/></p>
<p>如果它一次成功就没有后面的故事了，中间还是遇到多次bug，最终实现的效果还是有瑕疵，此时距离我查看moviepy的文档已经差不多过去了两小时，快十二点了，要写日志了（半夜了，饭虽然没吃上，但做饭笔记还是要写的[旺柴]）。</p>
<p>写日志的时候回头去看了航海手册里贴出来的代码，教练明明也用了同样的盐（moviepy.editor），也用了同样的酱油（subclip），为啥我的就是不行呢？</p>
<h2>六、盐就在那里，只怪自己眼神不好</h2>
<p>不死心的我再去看了一眼调料商的说明书（官方文档），终于看到那个升级说明了，点进去一看，很清楚地说明了为什么找不着盐也找不着酱油（上面两个bug）：</p>
<p>在新版本里盐换了位置（不存在moviepy.editor并给出了正确的引入方式），酱油也改名了（很多方法如subclip、set_audio进行了重命名）：</p>
<p><img src="img/62457c9c7264d2d1d1d8862c8e681ac4.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/VSk5bGgw3oLt2sxFWLzcBZ3jnGf/"/></p>
<p>既然我们知道问题出在哪里，那么解决方案就很明显：</p>
<p>一是降低版本，使用含有moviepy.editor的版本（使用1.x版本里的盐和酱油，Cursor大哥认识的）；</p>
<p>二是根据新版本来修改代码（使用新版本的盐和酱油，使用方法需要自己或Cursor大哥学习一下）。</p>
<p>第一个方案要怎么执行也可以直接问AI，第二个方案如果自己看不懂代码也没关系，可以让cursor学习了给你来改：</p>
<p><img src="img/cf1c6d9416717ce46333c9cf52fae772.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/UEjKbDTV3oRQ42xuIgJcmRLCncf/"/></p>
<p><img src="img/9f333bf6ef8cbd58f9a03796ead44b9e.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ZLqlbpjDsoIC6pxDxIocokoTnDd/"/></p>
<p>妈妈，我终于能正确地用上盐和酱油了，可以吃上饭了！（参考文档进行了修改后可以正常运行了。）</p>
<h2>七、做饭反思</h2>
<p>这次做饭找不到盐和酱油，本质上是同一个原因，就是因为调料商更新了版本，盐和酱油的使用方式和以前不一样，所以用老方法是行不通的。而Cursor大哥还不知道调料商更新了，它只知道以前的用法，所以无论我怎么问它也给不出新方法。（moviepy的版本更新了，对原来的代码进行了重构，所以原来的使用方式在新版本里都不起作用了，但是AI模型没能那么快地同步到版本迭代后的知识，然后我拿一个它不知道的东西一个劲问它，它当然不知道啦。）</p>
<p>回顾自己找盐和酱油过程，其实可以发现：</p>
<h3> 7.1 动动脑子</h3>
<p>自己根本没动脑子，只是惯性问cursor、问google、查文档，只会问现象“盐找不到啦”，不会问原因“为什么找不到盐了”。</p>
<p>在Cursor也无法帮我找到盐的时候，我如果继续问一问：</p>
<p>我做饭的家伙都准备好了，但一直报“盐找不到啦”，为什么？咋解决？</p>
<pre>如果我的环境没有问题，Python版本也正确，相关依赖也都正确安装了，但是仍然报ModuleNotFoundError: No module named 'moviepy.editor'这个错误，可能的原因是什么</pre>
<p><img src="img/2d7f0ec8a4727d9047f886e9dd1dcb6a.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/ZQKqbClCSoMU7Qx3NnScQvHznPd/"/></p>
<p>截图是我问的GPT3.5，让它解决那个报错也会进入鬼打墙，但是如果停下来问问它（或者cursor）这个问题，它给出的原因里就可能存在正确答案。</p>
<p>假设moviepy已经正确安装了，那么可以根据截图的第二条继续问：哪个moviepy的版本含有editor？</p>
<p><img src="img/8048212d5f1fa6d72e14c1fff347ef57.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/BBolb77ReowXrjx6zNYclDKXnpf/"/></p>
<p>使用了正确的版本，后面也就没有找不到酱油（subclip）的问题了。</p>
<h3>7.2 认真阅读</h3>
<p>自己在阅读相关内容时也不认真，但凡仔细一点，都可以从几次搜索中get到正确答案：</p>
<p>第一次谷歌“找不到盐”的结果里就提到了是由于升级导致报这个错误：</p>
<p><img src="img/2224af0977641a200ae99c2a58e06d80.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/WYPMboZ7eoBSksxfpddc88JgnFe/"/></p>
<p>第二次搜索调料商说明书时，如果注意到上方版本升级的提醒（breaking changes），或者点进去与subclipped（与subclip非常像）的页面，就会发现subclipped就是更新后的subclip（酱油改名叫生抽啦），功能是一样的：</p>
<p><img src="img/2258aaf8191cf6783fc5e87dee1c86cd.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Mg3HbLDZfo7bphxriOoc7ylWnmd/"/></p>
<p><img src="img/2a29ded82d63e55d61e92a352d74e3a9.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/SflfbANkhopprYxeqILcdPlondc/"/></p>
<h3>7.3 Cursor小知识</h3>
<p>这里附带几个小知识：</p>
<p>@Web是让cursor联网去查询来解决问题</p>
<p>@链接 可以直接让它去读取链接内容</p>
<p>@Docs 可以添加文档，里面有一些预设的，也可以新增，比如新增moviepy的文档后，后面引用可以直接@MoviePy</p>
<p><img src="img/c475a9c8bee6d6ced586d44870013324.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/Bij1bON3doL68gxw2YMcrj3Enzg/"/></p>
<p><img src="img/6fd2335924036c5e766395d2849c1fba.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/JYmubM3CToBk3PxAfvnc5H69ncc/"/></p>
<p><img src="img/9093e932e1e56f20d1324038832e89b5.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/RIyqbiEy4oPouTxibpgcmkAsnSb/"/></p>
<p><img src="img/1dd1b903e0f2d5d0ef95811f0c4e7fc8.png" data-original-src="https://internal-api-drive-stream.feishu.cn/space/api/box/stream/download/v2/cover/JrcIbMNX9oCLHKxdBbXcAMHrnsf/"/></p>

<h2>八、做饭总结</h2>
<p>总结一下，在解决具有明确报错信息的bug时，可以先让cursor解决，如果鬼打墙时，可以停下来尝试：</p>
<p>1、我按照上面的方案完成了某某某操作，都正确/正常，但还是报同样的错误，可能的原因是什么？要如何解决？</p>
<p>2、@Web让其联网找找解决方案</p>
<p>3、@Codebase，如果问题不是单一的，让它基于整个项目上下文来思考一下</p>
<p>4、使用其他GPT、谷歌、官方文档检索更多信息</p>
<p>可以使用google来搜索一下，你的问题很大概率是别人已经遇到过的，在stackoverflow.com以及github上该仓库的Issues下找到相关问题的可能性也很大，再就是翻翻官方文档找找相关的内容，比如本次bug里遇到的editor、subclip等。如果明确知道能通过某个链接或阅读文档解决问题，可以让cursor @链接或@Docs添加文档来学习解决。</p>
<p>5、让它换一个方式来实现同样的需求</p>
<p>6、别忘了咱们航海群，去群里提问吧！（先搜索关键词看看是否已经有相同的提问和回答）</p>
<p>7、还可以场外求助懂这一块的朋友，也可以在stackoverflow.com以及github.com对应的仓库Issues(如https://github.com/Zulko/moviepy/issues）下进行提问。</p>

<p>我的分享到此结束，谢谢大家！</p>